sap.ui.define([
	"sap/ui/core/mvc/Controller",
	"sap/ui/generic/app/navigation/service/NavigationHandler",
	"sap/ui/generic/app/navigation/service/NavType"
], function (Controller, NavigationHandler, NavType) {
	"use strict";
	return Controller.extend("app2.app2.controller.View1", {
		onInit: function () {
			var that = this;
			that.oNavigationHandler = new NavigationHandler(that);
			that.oNavigationHandler.parseNavigation().done(that.onNavigationDone.bind(that));
		},
		onNavigationDone: function (oAppData, oURLParameters, sNavType) {
			switch (sNavType) {
			case NavType.initial:
				break;
			case NavType.iAppState:
			    this.byId("panel0").setExpanded(oAppData.customData.panelExpanded);
			    this.byId("box0").setSelected(oAppData.customData.checkBoxPressed);
				break;
			}
		},
		/**
		 *@memberOf app2.app2.controller.View1
		 */
		onPressNavigateToApp1: function (oEvent) {
			this.oNavigationHandler.navigate("app1", "display", {});
		},
		/**
		 *@memberOf app2.app2.controller.View1
		 */
		mainPanelExpanded: function (oEvent) {
			//This code was generated by the layout editor.
			this.saveInnerAppData();
		},
		/**
		 *@memberOf app2.app2.controller.View1
		 */
		checkBoxSelected: function (oEvent) {
			//This code was generated by the layout editor.
			this.saveInnerAppData();
		},
		
		saveInnerAppData: function () {
		    var oInnerAppData = {
				customData: {
					panelExpanded: this.byId("panel0").getExpanded(),
					checkBoxPressed: this.byId("box0").getSelected()
				}
			};
			this.oNavigationHandler.storeInnerAppState(oInnerAppData);
		}
	});
});